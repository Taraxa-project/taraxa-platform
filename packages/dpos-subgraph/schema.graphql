type BasicInfo @entity(immutable: false) {
  id: ID!
  totalStake: BigInt!
  selfStake: BigInt!
  externalStake: BigInt!
  commission: Int!
  lastCommissionChange: BigInt!
  owner: String!
  description: String
  endpoint: String
}

type Validator @entity(immutable: false) {
  id: ID!
  account: String!
  isEligible: Boolean
  info: BasicInfo!
  currentDelegations: [Delegation!]!
  delegations: [Delegation!]!
  undelegations: [Undelegation!]!
  commissionChanges: [CommissionChange!]
}

type Delegator @entity(immutable: false) {
  id: ID!
  account: String!
  totalStake: BigInt!
  rewards: BigInt!
  currentDelegations: [Delegation!]!
  delegations: [Delegation!]!
  undelegations: [Undelegation!]!
}

type Delegation @entity(immutable: false) {
  id: ID!
  amount: BigInt!
  delegator: Delegator!
  validator: Validator!
}

type Undelegation @entity(immutable: false) {
  id: ID!
  stake: BigInt!
  eligibilityBlock: BigInt!
  confirmed: Boolean!
  canceled: Boolean!
  delegator: Delegator!
  validator: Validator!
}

type CommissionChange @entity(immutable: true) {
  id: ID!
  commission: Int!
  registrationBlock: Int!
  applianceBlock: Int!
  validator: Validator!
}
